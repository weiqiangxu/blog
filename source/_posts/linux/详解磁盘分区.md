---
title: 磁盘分区
index_img: /images/bg/k8s.webp
banner_img: /images/bg/5.jpg
tags:
  - kubernetes
categories:
  - kubernetes
date: 2023-05-11 18:40:12
excerpt: 简单学习磁盘分区是什么，如何使用，常用的命令有哪些
sticky: 1
---


### 相关命令

``` bash
$ lsblk
$ fdisk
$ /etc/sysconfig/network-scripts
```

### 相关疑问

- lsblk (List Block Devices) 命令解释：

```
1. NAME：块设备名称。
2. SIZE：块设备的容量大小。
3. TYPE：块设备类型，如磁盘（disk）或分区（part）。
4. MOUNTPOINT：设备被挂载的挂载点。
5. MODEL：硬件设备的制造商及型号。
6. FSTYPE：文件系统类型，比如ext4或NTFS。
7. UUID：块设备的唯一标识符。
8. LABEL：块设备的卷标或文件系统标签。
9. RO：块设备是否为只读。
10. RM：块设备是否可以通过软件进行移除。
11. PARTTYPE：如果块设备是分区，则该字段会显示分区类型。
12. PARTLABEL：如果块设备是分区，则该字段会显示分区卷标或文件系统标签。
13. PARTUUID：如果块设备是分区，则该字段会显示分区的唯一标识符。

这些指标可以帮助用户了解系统上的块设备，包括设备名称、容量、挂载点、文件系统类型等，从而更好地管理和使用系统。

[root@k8s-master network-scripts]# lsblk
NAME   MAJ:MIN RM   SIZE RO TYPE MOUNTPOINT
sr0     11:0    1 203.6M  0 rom  
vda    253:0    0    60G  0 disk 
└─vda1 253:1    0    60G  0 part /
```

- lsblk的MAJ:MIN和 TYPE为rom 是什么意思

``` txt
lsblk命令显示的输出中
MAJ:MIN表示设备的主设备号和次设备号
主设备号用于识别驱动程序，而次设备号用于识别设备本身

TYPE为rom表示设备是只读设备
ROM是只读存储器（Read-Only Memory）的简称
它存储的数据无法被写入
```

- 如何使用fdisk查看分区

``` bash
# 查看磁盘分区
$ fdisk -l

# 查看某一个磁盘下面的分区
$ fdisk -l /dev/sda
```

- 如何使用fdisk创建分区

``` bash
# 下面演示: Linux 系统中创建一个 ext4 文件系统格式的、挂载在 /mnt/mydisk 目录下的分区了

# 查看当前的磁盘以及磁盘下的分区
$ lsblk

# 输入 m 命令，查看 fdisk 的命令帮助信息，了解可以使用的命令。
# 输入 n 命令，创建一个新的分区，按照提示输入分区号、起始扇区和结束扇区等信息。
# 输入 t 命令，修改分区类型，例如将分区类型修改为 Linux 文件系统（83）。
# 输入 w 命令，保存并退出 fdisk 工具
# 开始对/sda做分区 ,注意/dev/sda是必须存在的磁盘设备
$ fdisk /dev/sda

# 使用 mkfs 命令格式化创建的分区
$ mkfs.ext4 /dev/sda1

# 在系统中挂载分区
# 将新分区 /dev/sda1 挂载到 /mnt/mydisk
# 这样可以通过 /mnt/mydisk 访问到分区
$ mkdir /mnt/mydisk
$ mount /dev/sda1 /mnt/mydisk
```

- /mnt是干嘛用的

```
/mnt 是一个挂载点，用于挂载外部设备（如硬盘、USB 等）到文件系统中的目录。
通常，挂载点为 /mnt，但也可以在其他位置创建挂载点。在 Linux 中，MNT 表示挂载点（mount point）的缩写。
```

- mkfs.ext4是什么意思

``` 
mkfs.ext4是一个Linux命令，用于创建ext4文件系统。
"mkfs"代表"make file system"
"ext4"是第四个扩展文件系统（Extended File System）的缩写
是Linux中最常见的文件系统之一

使用mkfs.ext4命令可以对磁盘分区进行格式化，以便在该分区上创建文件系统并存储数据。
```


- mount /dev/sda1 /mnt/mydisk是什么意思

这是一个Linux命令，用于将设备/dev/sda1（通常是硬盘分区）挂载（mount）到/mnt/mydisk目录中。
"mount"表示将一个文件系统连接到文件系统树的一个指定位置上
将磁盘分区挂载到一个目录中，可以使得该目录下面的文件和文件夹与该分区中的内容相对应。
在这个例子中，/dev/sda1分区上的数据将可以在/mnt/mydisk目录下访问。注意，要挂载一个设备
该设备必须首先被格式化并创建了文件系统，可以使用mkfs命令创建文件系统。

