---
title: 如何配置go私有库
index_img: /images/bg/k8s.webp
banner_img: /images/bg/5.jpg
tags:
  - golang
categories:
  - golang
date: 2023-06-05 18:40:12
excerpt: 配置git和go env
sticky: 1
---

### 一、配置golang环境

``` bash
$ go env -w GOINSECURE="gitlab.company.net" # 在 Go 1.13 版本中 没有 GOINSECURE 环境变量
$ go env -w GONOPROXY="gitlab.company.net"
$ go env -w GOPRIVATE="gitlab.company.net"
$ go env -w GONOSUMDB="gitlab.company.net"
$ go env -w GOPROXY="https://goproxy.io,direct"
$ go env -w GO111MODULE=on
```

``` bash
# 对于有些版本比如 go 1.13 没有GOINSECURE环境变量会出现 SSL x509 certificate signed by unknown authority
# 执行以下的可以绕过SSL验证问题
$ export GOSUMDB=off GONOSUMDB=*

# 删除环境变量
$ unset GOSUMDB
$ unset GONOSUMDB
```

### 二、配置git环境

``` bash
# 更改git#<url>替换为https://<url>
# git config --global url.git@<IP addr>:.insteadOf https://<IP addr>/ --replace-all
$ git config --global url.git@gitlab.company.net:.insteadOf https://gitlab.company.net/
$ git config --global --help

# 编辑配置
$ git config --global --edit

# 配置SSH证书登陆gitlab
mkdir ~/.ssh
ssh -T git@gitlab.company.net
```

### 三、验证

``` bash
# 手动绕过SSL 
# go get -insecure gitlab.company.net/client-go@v0.22.21
go get gitlab.company.net/client-go@v0.22.21
```

